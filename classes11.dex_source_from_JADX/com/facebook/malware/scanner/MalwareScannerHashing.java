package com.facebook.malware.scanner;

import android.content.pm.ApplicationInfo;
import com.facebook.common.util.Hex;
import java.io.File;
import java.io.FileInputStream;
import java.security.MessageDigest;
import java.util.Locale;

/* compiled from: Unexpected resultCode from authorization. */
public class MalwareScannerHashing {
    public static String m10881a(ApplicationInfo applicationInfo) {
        Throwable th;
        String str = "";
        if (applicationInfo != null) {
            File file = new File(applicationInfo.sourceDir);
            int min = (int) Math.min(1024, file.length());
            FileInputStream fileInputStream;
            try {
                fileInputStream = new FileInputStream(file);
                try {
                    MessageDigest instance = MessageDigest.getInstance("MD5");
                    byte[] bArr = new byte[min];
                    while (true) {
                        int read = fileInputStream.read(bArr);
                        if (read == -1) {
                            break;
                        }
                        instance.update(bArr, 0, read);
                    }
                    str = Hex.a(instance.digest(), false).toLowerCase(Locale.US);
                    fileInputStream.close();
                } catch (Throwable th2) {
                    th = th2;
                    if (fileInputStream != null) {
                        fileInputStream.close();
                    }
                    throw th;
                }
            } catch (Throwable th3) {
                th = th3;
                fileInputStream = null;
                if (fileInputStream != null) {
                    fileInputStream.close();
                }
                throw th;
            }
        }
        return str;
    }

    public static String m10882b(ApplicationInfo applicationInfo) {
        FileInputStream fileInputStream;
        Throwable th;
        String str = "";
        if (applicationInfo != null) {
            File file = new File(applicationInfo.sourceDir);
            int min = (int) Math.min(1024, file.length());
            try {
                fileInputStream = new FileInputStream(file);
                try {
                    MessageDigest instance = MessageDigest.getInstance("SHA-1");
                    byte[] bArr = new byte[min];
                    while (true) {
                        int read = fileInputStream.read(bArr);
                        if (read == -1) {
                            break;
                        }
                        instance.update(bArr, 0, read);
                    }
                    str = Hex.a(instance.digest(), false).toLowerCase(Locale.US);
                    fileInputStream.close();
                } catch (Throwable th2) {
                    th = th2;
                    if (fileInputStream != null) {
                        fileInputStream.close();
                    }
                    throw th;
                }
            } catch (Throwable th3) {
                th = th3;
                fileInputStream = null;
                if (fileInputStream != null) {
                    fileInputStream.close();
                }
                throw th;
            }
        }
        return str;
    }
}
